---
title: 494. 目标和
tags:
  - 算法
  - 动态规划
  - 背包问题变种
abbrlink: 9c78cf30
date: 2020-07-08 17:47:58
math: true
---

# 题目

给定一个**非负整数**数组，a1, a2, ..., an, 和一个目标数，S。现在你有两个符号 + 和 -。对于数组中的任意一个整数，你都可以从 + 或 -中选择一个符号添加在前面。

返回可以使最终数组和为目标数 S 的所有添加符号的方法数。

**示例：**

**输入：**`nums: [1, 1, 1, 1, 1], S: 3`
**输出：**`5`
**解释：**

> -1+1+1+1+1 = 3
> +1-1+1+1+1 = 3
> +1+1-1+1+1 = 3
> +1+1+1-1+1 = 3
> +1+1+1+1-1 = 3

一共有5种方法让最终目标和为3。

**提示：**

- 数组非空，且长度不会超过 20 。
- 初始的数组的和不会超过 1000 。
- 保证返回的最终结果能被 32 位整数存下。

# 理解

​	一开始我就想着是不是用深度优先搜索或者动态规划来做，我看了看题解，发现大部分人说会超时，最后还是用动态规划来做了。

​	参考评论区的大佬的说法：一般地，问题如果是从一个数组里面选择一些数字来组合成一个数，就可以化解成**0-1背包问题**。

这道题题目可以转化为：找到给定数组的一个正子集和负子集，使其的和为`target`
$$
\text{设P为正子集，N为负子集，U为整个数组。有：}\\
\Sigma{(P)}-\Sigma{(N)}=Target\\
\text{两边同时加上}\Sigma{(P)}-\Sigma{(N)}:\\
\Sigma{(P)}+\Sigma{(P)}-\Sigma{(N)}+\Sigma{(N)} = Target+\Sigma{(U)}\\
\text{即}	\\
2\cdot\Sigma{(P)}=Target+\Sigma{(U)}
$$


​	